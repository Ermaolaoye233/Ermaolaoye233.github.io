!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=154)}({117:function(e,t){e.exports=React},138:function(e,t){e.exports=ReactDOM},150:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVariantResult=function(e,t,r){if(!e.results)return 0;for(var n=0,a=e.results;n<a.length;n++){var l=a[n];if(l.indicatorId===r.id&&l.variantResults)for(var u=0,i=l.variantResults;u<i.length;u++){var o=i[u];if(o.variant===t.name)return o.totalAmount?o.totalAmount:0}}return 0},t.getNormalizedResult=function(e,r,n){var a=t.getVariantResult(e,r,n);return 0!==a&&n.normalisationFactor?a/n.normalisationFactor:0},t.getSingleScore=function(e,r,n){var a=t.getNormalizedResult(e,r,n);return 0!==a&&n.weightingFactor?a*n.weightingFactor:0},t.getVariants=function(e){return e.variants?e.variants.filter((function(e){return!e.isDisabled})):[]},t.getContribution=function(e){if(!e.report.results)return 0;for(var t=0,r=e.report.results;t<r.length;t++){var n=r[t];if(n.indicatorId===e.indicator.id&&n.variantResults)for(var a=0,l=n.variantResults;a<l.length;a++){var u=l[a];if(u.variant===e.variant.name&&u.contributions)for(var i=0,o=u.contributions;i<o.length;i++){var c=o[i];if(e.rest&&c.rest)return c.amount;if(e.process&&e.process.id===c.processId)return c.amount}}}return 0},t.scientific=function(e){return e?e.toExponential(5):"0"},t.getIndicators=function(e){return e.indicators?e.indicators.filter((function(e){return e.displayed})):[]}},154:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(117)),l=r(138),u=r(155),i=r(156),o=function(e){var t=e.report,r=[];return t.sections&&t.sections.forEach((function(e){r.push(a.default.createElement(c,{key:e.index,section:e,report:t}))})),a.default.createElement("div",{className:"container",style:{marginTop:25}},a.default.createElement("h1",null,t.title),r)},c=function(e){var t=e.section,r=e.report,n=s(t.componentId,r);return a.default.createElement("div",null,a.default.createElement("h3",null,t.title),a.default.createElement("p",{dangerouslySetInnerHTML:{__html:t.text}}),n)},s=function(e,t){if(!e)return null;switch(e){case"variant_description_table":return a.default.createElement(u.VariantDescriptionTable,{report:t});case"indicator_description_table":return a.default.createElement(u.IndicatorDescriptionTable,{report:t});case"parameter_description_table":return a.default.createElement(u.ParameterDescriptionTable,{report:t});case"parameter_value_table":return a.default.createElement(u.ParameterValueTable,{report:t});case"impact_result_table":return a.default.createElement(u.ResultTable,{report:t});case"normalisation_result_table":return a.default.createElement(u.ResultTable,{report:t,normalized:!0});case"single_score_table":return a.default.createElement(u.ResultTable,{report:t,singleScore:!0});case"lcc_net_costs_table":return a.default.createElement(u.CostResultTable,{report:t});case"lcc_added_values_table":return a.default.createElement(u.CostResultTable,{report:t,addedValue:!0});case"relative_indicator_bar_chart":return a.default.createElement(i.ComparisonChart,{report:t,type:"bar"});case"relative_indicator_radar_chart":return a.default.createElement(i.ComparisonChart,{report:t,type:"radar"});case"normalisation_bar_chart":return a.default.createElement(i.ComparisonChart,{report:t,type:"bar",normalized:!0});case"normalisation_radar_chart":return a.default.createElement(i.ComparisonChart,{report:t,type:"radar",normalized:!0});case"indicator_bar_chart":return a.default.createElement(i.IndicatorChart,{report:t});case"single_score_bar_chart":return a.default.createElement(i.SingleScoreChart,{report:t});case"process_contribution_chart":return a.default.createElement(i.IndicatorChart,{report:t,contributions:!0});default:return null}};window.setData=function(e){l.render(a.default.createElement(o,{report:e}),document.getElementById("react-root"))}},155:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(117)),l=r(150);function u(e,t){if(!e)return a.default.createElement("tbody",null);for(var r=[],n=0,l=e;n<l.length;n++){var u=t(l[n]);u&&r.push(u)}return a.default.createElement("tbody",null,r)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.default.createElement("thead",null,a.default.createElement("tr",null,e.map((function(e){return a.default.createElement("th",{key:o(e)},e)}))))}function o(e){return e?e.toLowerCase().replace(" ","-"):"none"}t.VariantDescriptionTable=function(e){var t=e.report;return a.default.createElement("div",null,a.default.createElement("table",null,i("Variant","Description"),u(t.variants,(function(e){return e.isDisabled?null:a.default.createElement("tr",{key:e.id},a.default.createElement("td",null,e.name),a.default.createElement("td",null,e.description))}))))},t.IndicatorDescriptionTable=function(e){var t=e.report;return a.default.createElement("div",null,a.default.createElement("table",null,i("Indicator","Unit","Description"),u(t.indicators,(function(e){if(!e||!e.displayed)return null;var t=e.descriptor?e.descriptor.referenceUnit:"";return a.default.createElement("tr",{key:e.id},a.default.createElement("td",null,e.reportName),a.default.createElement("td",null,t),a.default.createElement("td",null,e.reportDescription))}))))},t.ParameterDescriptionTable=function(e){var t=e.report;return a.default.createElement("div",null,a.default.createElement("table",null,i("Parameter","Description"),u(t.parameters,(function(e){return e?a.default.createElement("tr",{key:o(e.name)},a.default.createElement("td",null,e.name),a.default.createElement("td",null,e.description)):null}))))},t.ParameterValueTable=function(e){var t=e.report,r=["Parameter"],n=l.getVariants(t);n.forEach((function(e){return r.push(e.name)}));return a.default.createElement("div",null,a.default.createElement("table",null,i.apply(void 0,r),u(t.parameters,(function(e){return a.default.createElement("tr",null,a.default.createElement("td",null,e.name),n.map((function(t){return a.default.createElement("td",{key:o(t.name)},e.variantValues[t.id])})))}))))},t.ResultTable=function(e){var t=e.report,r=e.normalized,n=e.singleScore,c=l.getVariants(t),s=["Indicator"];c.forEach((function(e){return s.push(e.name)})),r||n||s.push("Unit");return a.default.createElement("div",null,a.default.createElement("table",null,i.apply(void 0,s),u(t.indicators,(function(e){if(!e.displayed)return null;var u=null;if(!r&&!n){var i=e.descriptor?e.descriptor.referenceUnit:"";u=a.default.createElement("td",null,i)}return a.default.createElement("tr",{key:e.id},a.default.createElement("td",null,e.reportName),c.map((function(u){return a.default.createElement("td",{key:o(u.name)},function(e,a){return r?l.scientific(l.getNormalizedResult(t,e,a)):n?l.scientific(l.getSingleScore(t,e,a)):l.scientific(l.getVariantResult(t,e,a))}(u,e))})),u)}))))},t.CostResultTable=function(e){var t=e.report,r=e.addedValue,n=l.getVariants(t).reduce((function(e,t){return e[t.name]=!0,e}),{});return a.default.createElement("div",null,a.default.createElement("table",null,i("Variant",r?"Added value":"Net-costs"),u(r?t.addedValues:t.netCosts,(function(e){return n[e.variant]?a.default.createElement("tr",{key:o(e.variant)},a.default.createElement("td",null,e.variant),a.default.createElement("td",null,e.value)):null}))))}},156:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(117)),l=r(150),u=r(157);function i(e){var t=a.useRef(null),r=null;return a.useEffect((function(){if(!r){var n=t.current.getContext("2d");return r=new u.Chart(n,e),function(){r&&(r.destroy(),r=null)}}})),a.default.createElement("div",{style:{textAlign:"center"}},a.default.createElement("canvas",{width:"650",height:"400",ref:t,style:{display:"inline-block"}}))}function o(e,t){var r=t&&!1===t.legend,n=t&&!0===t.stacked;return{type:"bar",data:e,options:{responsive:!1,legend:{display:!r,position:"bottom"},scales:{xAxes:[{stacked:n,maxBarThickness:50}],yAxes:[{stacked:n,ticks:{beginAtZero:!0}}]},tooltips:{callbacks:{label:function(e){var t=parseFloat(e.value);return e.label+": "+l.scientific(t)}}}}}}function c(e,t){var r=["229, 48, 57","41, 111, 196","255, 201, 35","82, 168, 77","132, 76, 173","127, 183, 229","255, 137, 0","128, 0, 128","135, 76, 63","252, 255, 100","0, 177, 241","112, 187, 40","18, 89, 133","226, 0, 115","255, 255, 85","218, 0, 24","0, 111, 154","255, 153, 0"];return e>=r.length?"rgb(0, 0, 0)":t?"rgba("+r[e]+", "+t+")":"rgb("+r[e]+")"}function s(e,t,r){var n=e.normalized?null:function(e,t,r){return r.reduce((function(r,n){var a=t.reduce((function(t,r){var a=Math.abs(l.getVariantResult(e,r,n));return Math.max(a,t)}),0);return a=0===a?1:a,r[n.id]=a,r}),{})}(e.report,t,r);return{labels:r.map((function(e){return e.reportName})),datasets:t.map((function(t,a){return{label:t.name,borderColor:c(a),backgroundColor:c(a,"radar"===e.type?.2:null),data:r.map((function(r){return e.normalized?l.getNormalizedResult(e.report,t,r):100*l.getVariantResult(e.report,t,r)/n[r.id]}))}}))}}t.IndicatorChart=function(e){var t=e.report,r=e.contributions,n=l.getIndicators(t),i=l.getVariants(t);if(!i||0===i.length||!n||0===n.length)return null;var s=a.useState(0),d=s[0],f=s[1],p=a.useRef(null);return a.useEffect((function(){var e,a=n[d];!0===r&&t.processes?(e={labels:i.map((function(e){return e.name})),datasets:t.processes.map((function(e,r){return{label:e.reportName,backgroundColor:c(r),data:i.map((function(r){return l.getContribution({report:t,indicator:a,variant:r,process:e})}))}}))}).datasets.push({label:"Other",backgroundColor:"rgba(121, 121, 121, 0.5)",data:i.map((function(e){return l.getContribution({report:t,indicator:a,variant:e,rest:!0})}))}):e={labels:i.map((function(e){return e.name})),datasets:[{label:a.reportName,borderColor:"#7b0052",backgroundColor:"#7b0052",data:i.map((function(e){return l.getVariantResult(t,e,a)}))}]};var s=o(e,{legend:!0===r,stacked:!0===r}),f=p.current.getContext("2d"),m=new u.Chart(f,s);return function(){m&&m.destroy()}})),a.default.createElement("div",{style:{textAlign:"center"}},a.default.createElement("form",null,a.default.createElement("fieldset",null,a.default.createElement("select",{value:d,style:{width:300},onChange:function(e){return f(parseInt(e.target.value,10))}},n.map((function(e,t){return a.default.createElement("option",{key:e.id,value:t},e.reportName)}))))),a.default.createElement("canvas",{width:"650",height:"400",ref:p,style:{display:"inline-block"}}))},t.SingleScoreChart=function(e){var t=e.report,r=l.getIndicators(t),n=l.getVariants(t);return n&&0!==n.length&&r&&0!==r.length?i(o({labels:n.map((function(e){return e.name})),datasets:r.map((function(e,r){return{label:e.reportName,backgroundColor:c(r),data:n.map((function(r){return l.getSingleScore(t,r,e)}))}}))},{stacked:!0})):null},t.ComparisonChart=function(e){var t=e.report,r=e.type,n=l.getIndicators(t),a=l.getVariants(t);if(!a||0===a.length||!n||0===n.length)return null;var u={type:r,data:s(e,a,n),options:{responsive:!1,legend:{position:"bottom"}}};return"bar"===r&&(u.options.scales={xAxes:[{maxBarThickness:50}],yAxes:[{ticks:{beginAtZero:!0,callback:function(t){return e.normalized?l.scientific(t):t+"%"}}}]},u.options.tooltips={callbacks:{label:function(t){var r=parseFloat(t.value),n=e.normalized?l.scientific(r):Math.round(r)+"%";return t.label+": "+n}}}),"radar"===r&&(u.options.scale={ticks:{beginAtZero:!0,display:!1}}),i(u)}},157:function(e,t){e.exports=Chart}});